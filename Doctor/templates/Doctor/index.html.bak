{% extends "app/layout.html" %}

{% block content %}
{% load staticfiles %}
<form id="signup" class="wrapper" method="post" action="{% url 'Doctor:information' %}" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="doctor_grid">
        <!--Patient_Information-->
        <div class="doctor_patient_info">
            <table class="table" id="reception_table">
                <tr>
                    <td>Chart No.</td>
                    <td>{{patient.id}}</td>
                </tr>
                <tr>
                    <td>Name_Kor</td>
                    <td>{{patient.name_kor}}</td>
                    <td>Name_Eng</td>
                    <td>{{patient.name_eng}}</td>
                </tr>
                <tr>
                    <td>Date of Birth</td>
                    <td>{{patient.date_of_birth}}</td>
                    <td>Gender</td>
                    <td>{{patient.gender}}</td>
                </tr>
                <tr>
                    <td>Phone</td>
                    <td>{{patient.phone}}</td>
                    <td>Address</td>
                    <td>{{patient.address}}</td>
                </tr>

                <tr>
                    <td>과거력</td>
                    <td>{{history.past_history}}</td>
                    <td>가족력</td>
                    <td>{{history.family_history}}</td>
                </tr>
            </table>
        </div>
        <!--Vital-->
        <div class="doctor_vital">
            <div class="status_table_title"><span>Vital</span></div>
            <table class="table vital_table" id="Vitial_table">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>weight</th>
                        <th>height</th>
                        <th>blood_pressure</th>
                        <th>blood_temperature</th>
                        <th>breath</th>
                        <th>purse_rate</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        <!--Waiting-->
        <div class="doctor_waiting">
            <div class="status_table_title"><span>Reception Status</span></div>
            <table class="status_table_filter">
                <tbody>
                    <tr>
                        <td>
                            <div id="reception_date">
                                <span>Reception Date:</span>

                                {{ receptionsearch.date }}
                            </div>
                        </td>
                        <td>
                            <div class="">
                                <input type="button" value="Today" onclick="reception_waiting(true)" />
                            </div>
                        </td>
                        <td>
                            <input type="checkbox" value="OnReal" id="work_on" onclick="worker_on('{% static 'js/event_listener.js' %}')" />
                        </td>
                    </tr>
                </tbody>
            </table>
            <table class="table reception_search_table" id="Rectption_Status">
                <thead>
                    <tr>
                        <th>No.</th>
                        <th>Chart No.</th>
                        <th>Name</th>
                        <th>Age</th>
                        <th>Gender</th>
                        <th>Reception Time</th>
                        <th>Cumulative Storage</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>
        <!--Diagnosis-->
        <div class="doctor_diagnosis">
            <div class="diagnosis_chief_complaint">
                {{reception.main_complaint.label}}
                {{reception.main_complaint}}
                {{diagnosis.history_taking.label}}
                {{diagnosis.history_taking}}
                <input type="hidden" value="" id="selected_reception" />
            </div>
            <div class="diagnosis_select_method">
                <div class="diagnosis_select_title">
                    <ul>
                        <li class="diagnosis_select_title_li" id="diagnosis_select_test_title">Test</li>
                        <li class="diagnosis_select_title_li" id="diagnosis_select_precedure_title">Precedure</li>
                        <li class="diagnosis_select_title_li" id="diagnosis_select_medicine_title">Medicine</li>
                    </ul>

                    <div class="diagnosis_select_contents" id="diagnosis_select_test_contents">
                        <table class="table">
                        {% for test in tests %}
                            <tr style="cursor:pointer;">
                                <td>
                                    {{test.id}}
                                </td>
                                <td>
                                    {{test.name}}
                                </td>
                            </tr>
                        {% endfor %}
                        </table>
                    </div>
                    <div class="diagnosis_select_contents" id="diagnosis_select_precedure_contents">
                        <table class="table">    
                            {% for precedure in precedures %}
                            <tr style="cursor:pointer;">
                                <td>
                                    {{precedure.id}}
                                </td>
                                <td>
                                    {{precedure.name}}
                                </td>
                            </tr>
                            {% endfor %}
                        </table>
                    </div>
                    <div class="diagnosis_select_contents" id="diagnosis_select_medicine_contents">
                        <table class="table" >    
                            {% for medicine in medicines %}
                            <tr style="cursor:pointer;">
                                <td>
                                    {{medicine.id}}
                                </td>
                                <td>
                                    {{medicine.name}}
                                </td>
                            </tr>
                            {% endfor %}
                        </table>
                    </div>
                </div>
            </div>
            <div class="diagnosis_selected_method">
                <table class="table" id="diagnosis_selected">
                    <thead>
                        <tr>
                            <th>Code</th>
                            <th>Name</th>
                            <th>Volume</th>
                            <th>Amount</th>
                            <th>Days</th>
                            <th>Memo</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody id="diagnosis_selected_test">
                    </tbody>
                    <tbody id="diagnosis_selected_precedure">
                    </tbody>
                    <tbody id="diagnosis_selected_medicine">
                    </tbody>
                </table>
            </div>
            <div class="diagnosis_functions">
                {{reservation.date}}
                <input type="button" value="cancel"  />
                <input type="button" value="done" onclick="diagnosis_save('done')" />
                <input type="button" value="hold" onclick="diagnosis_hold('hold')" />
            </div>
        </div>
        <!--Past Diagnosis-->
        <div class="doctor_past_diagnosis">
            <div class="status_table_title"><span>Past Diagnosis</span></div>
            <input id="past_diagnosis_calendar" />
            <table class="table" id="diagnosis_table">
                <tbody>
                    
                </tbody>
            </table>
        </div>
    </div>
    <div>
        <input type="button" id="print_test" />
    </div>
</form>

{% endblock %}

{% block style %}
<link rel="stylesheet" type="text/css" href="{% static 'css/doctor.css' %}" />
<link rel="stylesheet" type="text/css" href="{% static 'css/reception.css' %}" />
{% endblock %}

{% block scripts %}
<script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
<script src="{% static 'js/doctor.js' %}" type="text/javascript"></script>
{% endblock %}